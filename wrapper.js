node -e "require('fs').writeFileSync('/tmp/w.js','const{spawn}=require(String.fromCharCode(34)+\"child_process\"+String.fromCharCode(34));const c=spawn(\"npx\",[\"-y\",\"@notionhq/notion-mcp-server\"],{stdio:[\"pipe\",\"pipe\",\"inherit\"]});let b=\"\";process.stdin.on(\"data\",d=>{b+=d;const l=b.split(String.fromCharCode(10));b=l.pop();l.forEach(x=>{if(x.trim()){try{const m=JSON.parse(x);if(m.method===\"tools/call\"&&m.params&&m.params.arguments){delete m.params.arguments[\"Notion-Version\"]}c.stdin.write(JSON.stringify(m)+String.fromCharCode(10))}catch(e){c.stdin.write(x+String.fromCharCode(10))}}})});c.stdout.on(\"data\",d=>process.stdout.write(d));c.on(\"close\",x=>process.exit(x));process.stdin.on(\"end\",()=>c.stdin.end());')" && npx -y supergateway --stdio "node /tmp/w.js" --outputTransport streamableHttp --stateful --port 8080
